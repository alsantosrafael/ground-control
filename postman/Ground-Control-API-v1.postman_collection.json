{
	"info": {
		"_postman_id": "gc-v1-2025-api-collection",
		"name": "Ground Control API v1 - Complete Collection",
		"description": "# Ground Control Feature Flag Management API v1\n\nComplete API collection with all endpoints, validation examples, and error scenarios.\n\n## üöÄ Quick Start\n\n1. **Import this collection** into Postman\n2. **Set environment variables**:\n   - `baseUrl`: http://localhost:8080\n   - `flagCode`: sample-feature  \n   - `userId`: user123\n3. **Run requests** in order:\n   - Create Boolean Flag ‚Üí Evaluate Flag ‚Üí Create Rules\n\n## üìö API Overview\n\n### Feature Flags (`/v1/flags`)\n- Create, read, update flags\n- Support for BOOLEAN, STRING, INT, PERCENTAGE types\n- Enable/disable flags\n- Bulk fetch by codes\n\n### Flag Evaluation (`/v1/evaluations`)\n- Single flag evaluation with context\n- Bulk evaluation (1-100 flags)\n- Returns: enabled status, value, reason, variant\n\n### Health & Monitoring (`/actuator`)\n- Health checks\n- Prometheus metrics\n- Application info\n\n## üîí Security & Validation\n\n- **API Versioning**: All endpoints use `/v1/` prefix\n- **Input Validation**: Detailed error messages\n- **Rate Limiting**: 100 req/min per IP (coming soon)\n- **ReDoS Protection**: Regex timeout & pattern detection\n\n## üì¶ Response Formats\n\n### Success Response\n```json\n{\n  \"id\": 1,\n  \"code\": \"sample-feature\",\n  \"enabled\": true,\n  \"value\": true\n}\n```\n\n### Error Response\n```json\n{\n  \"timestamp\": \"2025-01-14T10:30:00Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed: code: Code is required\"\n}\n```\n\n## üè∑Ô∏è Version: 1.0.1\n\n### Recent Changes\n- ‚úÖ API versioning with `/v1/` prefix\n- ‚úÖ Enhanced input validation\n- ‚úÖ Improved error responses\n- ‚úÖ Bulk evaluation returns errors map\n- ‚úÖ Security: ReDoS protection, env vars\n\n---\n\nFor more details, visit: http://localhost:8080/docs.html",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "ground-control-v1"
	},
	"item": [
		{
			"name": "1. Feature Flags",
			"item": [
				{
					"name": "Create Boolean Flag",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has flag code\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.code).to.eql(pm.variables.get(\"flagCode\"));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"{{flagCode}}\",\n  \"name\": \"Sample Feature Flag\",\n  \"description\": \"A sample feature flag for testing purposes\",\n  \"value\": true,\n  \"valueType\": \"BOOLEAN\",\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags"
							]
						},
						"description": "Creates a new boolean feature flag.\n\n**Validation Rules:**\n- `code`: 2-50 chars, alphanumeric + hyphens/underscores\n- `name`: 3-100 chars, required\n- `description`: max 500 chars (optional)\n- `valueType`: BOOLEAN | STRING | INT | PERCENTAGE\n- `enabled`: required boolean\n\n**Success Response:** 201 Created"
					},
					"response": [
						{
							"name": "Success - 201 Created",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"new-checkout-flow\",\n  \"name\": \"New Checkout Flow\",\n  \"description\": \"Enables the redesigned checkout experience\",\n  \"value\": false,\n  \"valueType\": \"BOOLEAN\",\n  \"enabled\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/flags",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"flags"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"code\": \"new-checkout-flow\",\n  \"name\": \"New Checkout Flow\",\n  \"description\": \"Enables the redesigned checkout experience\",\n  \"value\": false,\n  \"valueType\": \"BOOLEAN\",\n  \"enabled\": true,\n  \"dueAt\": null,\n  \"rolloutRules\": [],\n  \"createdAt\": \"2025-01-14T10:00:00Z\",\n  \"updatedAt\": \"2025-01-14T10:00:00Z\"\n}"
						},
						{
							"name": "Error - 400 Validation Failed",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"ab\",\n  \"name\": \"X\",\n  \"valueType\": \"BOOLEAN\",\n  \"enabled\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/flags",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"flags"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"timestamp\": \"2025-01-14T10:05:00Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed: name: Name must be between 3 and 100 characters\"\n}"
						}
					]
				},
				{
					"name": "Create String Flag",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"theme-color\",\n  \"name\": \"Application Theme Color\",\n  \"description\": \"Controls the primary theme color of the application\",\n  \"value\": \"blue\",\n  \"valueType\": \"STRING\",\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags"
							]
						},
						"description": "Creates a string-type feature flag for configuration values.\n\n**Use Cases:**\n- Theme colors\n- API endpoints\n- Feature variants\n- Configuration strings"
					},
					"response": []
				},
				{
					"name": "Create Integer Flag",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"max-items-per-page\",\n  \"name\": \"Maximum Items Per Page\",\n  \"description\": \"Controls pagination size\",\n  \"value\": 50,\n  \"valueType\": \"INT\",\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags"
							]
						},
						"description": "Creates an integer-type feature flag.\n\n**Use Cases:**\n- Pagination limits\n- Rate limits\n- Timeout values\n- Thresholds"
					},
					"response": []
				},
				{
					"name": "Create Percentage Flag",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"discount-rate\",\n  \"name\": \"Promotional Discount Rate\",\n  \"description\": \"Discount percentage for promotional campaigns\",\n  \"value\": 15.5,\n  \"valueType\": \"PERCENTAGE\",\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags"
							]
						},
						"description": "Creates a percentage-type feature flag (0-100%).\n\n**Use Cases:**\n- Discount rates\n- Feature rollout percentages\n- A/B test split ratios"
					},
					"response": []
				},
				{
					"name": "Get All Flags (Paginated)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/flags?page=0&size=20&sort=updatedAt,desc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags"
							],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Page number (0-indexed)"
								},
								{
									"key": "size",
									"value": "20",
									"description": "Items per page (default: 20)"
								},
								{
									"key": "sort",
									"value": "updatedAt,desc",
									"description": "Sort field and direction"
								}
							]
						},
						"description": "Retrieves all feature flags with pagination.\n\n**Query Parameters:**\n- `page`: Page number (default: 0)\n- `size`: Items per page (default: 20)\n- `sort`: Sort field,direction (e.g., updatedAt,desc)\n\n**Response:** Paginated list with metadata"
					},
					"response": [
						{
							"name": "Success - Paginated Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/v1/flags?page=0&size=20",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"flags"
									],
									"query": [
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "size",
											"value": "20"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"code\": \"new-checkout-flow\",\n      \"name\": \"New Checkout Flow\",\n      \"enabled\": true,\n      \"value\": false,\n      \"valueType\": \"BOOLEAN\",\n      \"createdAt\": \"2025-01-14T10:00:00Z\",\n      \"updatedAt\": \"2025-01-14T10:00:00Z\"\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 20,\n    \"sort\": {\n      \"sorted\": true\n    }\n  },\n  \"totalElements\": 1,\n  \"totalPages\": 1,\n  \"last\": true,\n  \"first\": true,\n  \"numberOfElements\": 1\n}"
						}
					]
				},
				{
					"name": "Get Flag by Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/flags/{{flagCode}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags",
								"{{flagCode}}"
							]
						},
						"description": "Retrieves a specific feature flag by its code.\n\n**Success:** 200 OK\n**Error:** 404 Not Found"
					},
					"response": [
						{
							"name": "Success - 200 OK",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/v1/flags/new-checkout-flow",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"flags",
										"new-checkout-flow"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"code\": \"new-checkout-flow\",\n  \"name\": \"New Checkout Flow\",\n  \"description\": \"Enables the redesigned checkout experience\",\n  \"value\": false,\n  \"valueType\": \"BOOLEAN\",\n  \"enabled\": true,\n  \"dueAt\": null,\n  \"rolloutRules\": [],\n  \"createdAt\": \"2025-01-14T10:00:00Z\",\n  \"updatedAt\": \"2025-01-14T10:00:00Z\"\n}"
						},
						{
							"name": "Error - 404 Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/v1/flags/non-existent-flag",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"flags",
										"non-existent-flag"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"timestamp\": \"2025-01-14T10:10:00Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Resource not found\"\n}"
						}
					]
				},
				{
					"name": "Get Flags by Codes (Bulk)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/flags/by-codes?codes={{flagCode}}&codes=theme-color",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags",
								"by-codes"
							],
							"query": [
								{
									"key": "codes",
									"value": "{{flagCode}}"
								},
								{
									"key": "codes",
									"value": "theme-color"
								}
							]
						},
						"description": "Fetches multiple flags by their codes in a single request.\n\n**Query Parameters:**\n- `codes`: List of flag codes (repeat parameter)\n\n**Use Cases:**\n- Dashboard initialization\n- Bulk flag fetching\n- Configuration loading"
					},
					"response": []
				},
				{
					"name": "Update Flag",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Sample Feature\",\n  \"description\": \"Updated description after testing\",\n  \"enabled\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags/{{flagCode}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags",
								"{{flagCode}}"
							]
						},
						"description": "Updates an existing feature flag.\n\n**Updatable Fields:**\n- name\n- description\n- enabled\n- value\n- dueAt\n\n**Success:** 204 No Content\n**Error:** 404 Not Found"
					},
					"response": []
				},
				{
					"name": "Change Flag State (Enable/Disable)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/flags/{{flagCode}}/change-state",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"flags",
								"{{flagCode}}",
								"change-state"
							]
						},
						"description": "Quickly enables or disables a flag without a full update.\n\n**Body:**\n```json\n{\n  \"enabled\": true | false\n}\n```\n\n**Use Cases:**\n- Emergency kill switch\n- Quick enable/disable\n- Production toggles\n\n**Success:** 204 No Content"
					},
					"response": []
				}
			],
			"description": "CRUD operations for managing feature flags.\n\n**Supported Types:**\n- BOOLEAN: Simple on/off toggles\n- STRING: Configuration strings\n- INT: Numeric values\n- PERCENTAGE: 0-100% values",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "2. Flag Evaluation",
			"item": [
				{
					"name": "Evaluate Flag - Global (No User)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has evaluation result\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('enabled');",
									"    pm.expect(jsonData).to.have.property('reason');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subjectId\": null,\n  \"attributes\": {}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/evaluations/{{flagCode}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"evaluations",
								"{{flagCode}}"
							]
						},
						"description": "Evaluates a feature flag globally without user context.\n\n**Use Cases:**\n- Kill switches\n- Global maintenance mode\n- System-wide toggles\n\n**Response Fields:**\n- `enabled`: boolean\n- `value`: flag value (type depends on flag)\n- `valueType`: BOOLEAN | STRING | INT | PERCENTAGE\n- `variant`: rule variant name (if matched)\n- `reason`: DEFAULT | RULE_MATCH | FLAG_DISABLED | FLAG_EXPIRED"
					},
					"response": [
						{
							"name": "Success - Flag Enabled",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/evaluations/new-checkout-flow",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"evaluations",
										"new-checkout-flow"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"enabled\": true,\n  \"value\": false,\n  \"valueType\": \"BOOLEAN\",\n  \"variant\": null,\n  \"evaluationType\": \"DEFAULT\",\n  \"reason\": \"DEFAULT\"\n}"
						},
						{
							"name": "Flag Disabled",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/evaluations/disabled-feature",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"evaluations",
										"disabled-feature"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"enabled\": false,\n  \"value\": null,\n  \"valueType\": null,\n  \"variant\": null,\n  \"evaluationType\": null,\n  \"reason\": \"FLAG_DISABLED\"\n}"
						}
					]
				},
				{
					"name": "Evaluate Flag - User Specific",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subjectId\": \"{{userId}}\",\n  \"attributes\": {}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/evaluations/{{flagCode}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"evaluations",
								"{{flagCode}}"
							]
						},
						"description": "Evaluates a feature flag for a specific user.\n\n**Use Cases:**\n- A/B testing\n- Percentage rollouts\n- User-specific features\n\n**Validation:**\n- `subjectId`: max 100 characters\n- `attributes`: max 50 entries"
					},
					"response": []
				},
				{
					"name": "Evaluate Flag - With Attributes",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"subjectId\": \"{{userId}}\",\n  \"attributes\": {\n    \"plan\": \"premium\",\n    \"country\": \"US\",\n    \"creditScore\": 750,\n    \"betaTester\": true,\n    \"organizationSize\": 500,\n    \"email\": \"user@example.com\",\n    \"accountAge\": 365\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/evaluations/{{flagCode}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"evaluations",
								"{{flagCode}}"
							]
						},
						"description": "Evaluates a flag with rich user context for advanced targeting.\n\n**Attribute Types:**\n- STRING: plan, country, email\n- NUMERIC: creditScore, organizationSize, accountAge\n- BOOLEAN: betaTester, isPremium\n- ARRAY: tags, features\n- DATE: memberSince, lastLogin\n\n**Use Cases:**\n- Plan-based features\n- Geographic targeting\n- User segment targeting\n- Behavior-based rollouts"
					},
					"response": [
						{
							"name": "Rule Match - Premium User",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"subjectId\": \"user123\",\n  \"attributes\": {\n    \"plan\": \"premium\"\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/evaluations/new-checkout-flow",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"evaluations",
										"new-checkout-flow"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"enabled\": true,\n  \"value\": true,\n  \"valueType\": \"BOOLEAN\",\n  \"variant\": \"premium-users\",\n  \"evaluationType\": \"DEFAULT\",\n  \"reason\": \"RULE_MATCH\"\n}"
						}
					]
				},
				{
					"name": "Bulk Flag Evaluation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has results and summary\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('results');",
									"    pm.expect(jsonData).to.have.property('errors');",
									"    pm.expect(jsonData).to.have.property('summary');",
									"    pm.expect(jsonData.summary).to.have.property('requested');",
									"    pm.expect(jsonData.summary).to.have.property('successful');",
									"    pm.expect(jsonData.summary).to.have.property('failed');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"flagCodes\": [\n    \"{{flagCode}}\",\n    \"theme-color\",\n    \"max-items-per-page\"\n  ],\n  \"context\": {\n    \"subjectId\": \"{{userId}}\",\n    \"attributes\": {\n      \"plan\": \"premium\",\n      \"country\": \"US\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/evaluations/bulk",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v1",
								"evaluations",
								"bulk"
							]
						},
						"description": "Evaluates multiple feature flags in a single request.\n\n**Limits:**\n- Min: 1 flag\n- Max: 100 flags\n\n**Response:**\n```json\n{\n  \"results\": {\n    \"flag-code\": { evaluation result }\n  },\n  \"errors\": {\n    \"non-existent-flag\": \"Flag not found\"\n  },\n  \"summary\": {\n    \"requested\": 3,\n    \"successful\": 2,\n    \"failed\": 1\n  }\n}\n```\n\n**Use Cases:**\n- Dashboard initialization\n- App startup configuration\n- Batch flag checks"
					},
					"response": [
						{
							"name": "Success - Bulk Evaluation",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"flagCodes\": [\n    \"new-checkout-flow\",\n    \"theme-color\",\n    \"non-existent-flag\"\n  ],\n  \"context\": {\n    \"subjectId\": \"user123\",\n    \"attributes\": {\n      \"plan\": \"premium\"\n    }\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/evaluations/bulk",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"evaluations",
										"bulk"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"results\": {\n    \"new-checkout-flow\": {\n      \"enabled\": true,\n      \"value\": true,\n      \"valueType\": \"BOOLEAN\",\n      \"variant\": \"premium-users\",\n      \"reason\": \"RULE_MATCH\"\n    },\n    \"theme-color\": {\n      \"enabled\": true,\n      \"value\": \"blue\",\n      \"valueType\": \"STRING\",\n      \"variant\": null,\n      \"reason\": \"DEFAULT\"\n    }\n  },\n  \"errors\": {\n    \"non-existent-flag\": \"Flag not found\"\n  },\n  \"summary\": {\n    \"requested\": 3,\n    \"successful\": 2,\n    \"failed\": 1\n  }\n}"
						},
						{
							"name": "Error - Validation (Too Many Flags)",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"flagCodes\": [ /* 101 flags */ ],\n  \"context\": { \"subjectId\": \"user123\" }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/v1/evaluations/bulk",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"v1",
										"evaluations",
										"bulk"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"timestamp\": \"2025-01-14T10:20:00Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed: flagCodes: Flag codes list must contain between 1 and 100 items\"\n}"
						}
					]
				}
			],
			"description": "Evaluate feature flags with user context and attributes.\n\n**Evaluation Flow:**\n1. Check if flag is enabled\n2. Check if flag is expired (dueAt)\n3. Evaluate rollout rules by priority\n4. Check rule conditions\n5. Check percentage rollout\n6. Return result with reason"
		},
		{
			"name": "3. Health & Monitoring",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"health"
							]
						},
						"description": "Checks the health status of the application and its dependencies.\n\n**Response:**\n```json\n{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": { \"status\": \"UP\" },\n    \"redis\": { \"status\": \"UP\" },\n    \"diskSpace\": { \"status\": \"UP\" }\n  }\n}\n```"
					},
					"response": [
						{
							"name": "Success - Healthy",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/actuator/health",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"actuator",
										"health"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"status\": \"UP\"\n}"
						}
					]
				},
				{
					"name": "Application Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/info",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"info"
							]
						},
						"description": "Returns application information including version and build details."
					},
					"response": []
				},
				{
					"name": "Prometheus Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/prometheus",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"prometheus"
							]
						},
						"description": "Returns metrics in Prometheus format for monitoring and alerting.\n\n**Metrics Include:**\n- JVM metrics (memory, threads, GC)\n- HTTP request metrics\n- Database connection pool metrics\n- Cache metrics\n- Custom business metrics (coming soon)"
					},
					"response": []
				},
				{
					"name": "Application Mappings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/mappings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"mappings"
							]
						},
						"description": "Lists all available API endpoints and their handlers.\n\n**Use Cases:**\n- API discovery\n- Endpoint documentation\n- Debugging routing issues"
					},
					"response": []
				}
			],
			"description": "Health checks, monitoring, and operational endpoints."
		},
		{
			"name": "4. API Documentation",
			"item": [
				{
					"name": "OpenAPI Spec (JSON)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v3/api-docs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"v3",
								"api-docs"
							]
						},
						"description": "Returns the complete OpenAPI 3.0 specification in JSON format.\n\n**Use Cases:**\n- Code generation\n- API client generation\n- Documentation generation"
					},
					"response": []
				},
				{
					"name": "Swagger UI",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/docs.html",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"docs.html"
							]
						},
						"description": "Interactive Swagger UI for testing API endpoints.\n\n**Access:** http://localhost:8080/docs.html"
					},
					"response": []
				}
			],
			"description": "API documentation and OpenAPI specification endpoints."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global pre-request script",
					"console.log('Request:', pm.info.requestName);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script",
					"pm.test(\"Response time is acceptable\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "flagCode",
			"value": "sample-feature",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "user123",
			"type": "string"
		}
	]
}
